import{A as x}from"./AppLayout-df16f9ef.js";import{h as g}from"./moment-fbc5633a.js";import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";import{k as m,o as e,c as b,w as n,b as t,d as i,t as a,a as l,f as o,l as v,F as k,g as c}from"./app-8858eae8.js";import"./ApplicationLogo-e011a720.js";const D={props:{purchase:Object},components:{AppLayout:x},data(){return{}},methods:{formatDate(r){return g(r).format("DD/MM/YYYY")}}},T={class:"text-2xl text-gray-800 mb-5 text-center"},w={class:"font-bold"},H=t("h3",{class:"text-xl font-bold p-3"},"Informations relatives à l'achat:",-1),V=t("hr",null,null,-1),A={class:"grid grid-cols-1 sm:grid-cols-2"},F={class:"col-span-1 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},j=t("dt",{class:"text-sm font-medium text-gray-500"},"Marché",-1),q={class:"text-sm text-gray-900 sm:col-span-2"},B={class:"col-span-1 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},C=t("dt",{class:"text-sm font-medium text-gray-500"},"Fournisseur",-1),N={class:"text-sm text-gray-900 sm:col-span-2"},L=t("h3",{class:"text-xl font-bold p-3"},"Articles:",-1),Y=t("hr",null,null,-1),E=t("thead",null,[t("tr",{class:""},[t("th",{class:"text-left"},[t("span",{class:"font-bold"},"Désignation")]),t("th",{class:"text-left"},[t("span",{class:"font-bold"},"Quantité")]),t("th",{class:"text-left"},[t("span",{class:"font-bold"},"Unité")]),t("th",{class:"text-left"},[t("span",{class:"font-bold"},"Prix par unité")]),t("th",{class:"text-left"},[t("span",{class:"font-bold"},"Subtotal")])])],-1),M={class:"border-b"},P={class:"border-b"},S={class:"border-b"},O={class:"border-b"},I=t("span",{class:"text-gray-500"},"DH HT",-1),J={class:"border-b"},Q=t("span",{class:"text-gray-500"},"DH HT",-1),U=t("div",{class:"p-4 font-bold text-xl"},"Total:",-1),z=t("hr",null,null,-1),G={class:"flex gap-2 justify-end my-2 mr-2"},K={class:"flex p-4 justify-center border items-center rounded bg-gray-50"},R=t("span",{class:"text-gray-500"},"  DH HT",-1),W={class:"flex p-4 justify-center border items-center rounded bg-gray-50"},X={class:"flex p-4 justify-center border items-center rounded bg-gray-50"},Z=t("span",{class:"text-gray-500"},"  DH TTC",-1),$=t("h3",{class:"text-xl font-bold p-3"},"Paiement:",-1),tt=t("hr",null,null,-1),st={class:"grid grid-cols-1 sm:grid-cols-2"},et={class:"col-span-1 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},at=t("dt",{class:"text-sm font-medium text-gray-500"},"Banque source",-1),ot={class:"text-sm text-gray-900 sm:col-span-2"},nt={class:"text-xs"},ct={class:"col-span-1 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},dt=t("dt",{class:"text-sm font-medium text-gray-500"},"Type de paiement",-1),it={class:"text-sm text-gray-900 sm:col-span-2"},lt={key:0},rt={key:1},_t={key:2},mt={key:3},ht={key:4},pt={key:0,class:"grid grid-cols-1 sm:grid-cols-2"},ut={class:"col-span-1 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},yt=t("dt",{class:"text-sm font-medium text-gray-500"},"Paiement immédiat",-1),xt={class:"text-sm text-gray-900 sm:col-span-2"},gt={key:0},ft={key:1},bt={class:"col-span-1 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},vt=t("dt",{class:"text-sm font-medium text-gray-500"},"Date d'échéance",-1),kt={class:"text-sm text-gray-900 sm:col-span-2"},Dt={key:0},Tt={key:1},wt={class:"grid grid-cols-1 sm:grid-cols-2"},Ht={class:"col-span-1 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Vt=t("dt",{class:"text-sm font-medium text-gray-500"},"Justificatif",-1),At={class:"text-sm text-gray-900 sm:col-span-2"},Ft={key:0},jt={key:1},qt=["href"],Bt={class:"font-medium text-indigo-600 hover:text-indigo-500 hover:underline"};function Ct(r,Nt,s,Lt,Yt,h){const _=m("v-sheet"),p=m("v-table"),u=m("AppLayout");return e(),b(u,{title:"Détail d'achat : "+s.purchase.numero},{default:n(()=>[t("div",T,[i("Détail d'achat: "),t("span",w,a(s.purchase.numero),1)]),l(_,{color:"grey-white",class:"mb-5",border:"",rounded:""},{default:n(()=>[H,V,t("div",A,[t("div",F,[j,t("dd",q,a(s.purchase.marche.name),1)]),t("div",B,[C,t("dd",N,a(s.purchase.supplier.name),1)])])]),_:1}),l(_,{color:"grey-white",class:"mb-5",border:"",rounded:""},{default:n(()=>[L,Y,l(p,{hover:"",class:"text-sm"},{bottom:n(()=>[U,z,t("div",G,[t("div",K,[t("span",null,a(s.purchase.total),1),R]),t("div",W,[t("span",null," TVA : "+a(s.purchase.payment.taux_tva)+" % ",1)]),t("div",X,[t("span",null,a((parseFloat(s.purchase.total)+parseFloat(s.purchase.total)*s.purchase.payment.taux_tva*.01).toFixed(2)),1),Z])])]),default:n(()=>[E,t("tbody",null,[(e(!0),o(k,null,v(s.purchase.products,(d,y)=>(e(),o("tr",{key:y},[t("td",M,a(d.designation),1),t("td",P,a(d.quantity),1),t("td",S,a(d.unity),1),t("td",O,[i(a(d.priceperunity)+" ",1),I]),t("td",J,[i(a(d.subtotal)+" ",1),Q])]))),128))])]),_:1})]),_:1}),l(_,{color:"grey-white",class:"mb-5",border:"",rounded:""},{default:n(()=>[$,tt,t("div",st,[t("div",et,[at,t("dd",ot,[i(a(s.purchase.bank.name)+" : ",1),t("span",nt,a(s.purchase.bank.rib),1)])]),t("div",ct,[dt,t("dd",it,[s.purchase.payment.type=="virement"?(e(),o("span",lt,"Virement")):c("",!0),s.purchase.payment.type=="espece"?(e(),o("span",rt,"Espèce")):c("",!0),s.purchase.payment.type=="cheque"?(e(),o("span",_t,"Chèque")):c("",!0),s.purchase.payment.type=="versement"?(e(),o("span",mt,"Versement")):c("",!0),s.purchase.payment.type=="effet"?(e(),o("span",ht,"Effet")):c("",!0)])])]),s.purchase.payment.type==="cheque"||s.purchase.payment.type==="effet"?(e(),o("div",pt,[t("div",ut,[yt,t("dd",xt,[s.purchase.payment.paiement_immediat?(e(),o("span",gt,"Oui")):(e(),o("span",ft,"Non"))])]),t("div",bt,[vt,t("dd",kt,[s.purchase.payment.paiement_immediat?(e(),o("span",Dt,"-")):(e(),o("span",Tt,a(h.formatDate(s.purchase.payment.echeance_date)),1))])])])):c("",!0),t("div",wt,[t("div",Ht,[Vt,t("dd",At,[s.purchase.payment.proof_file?(e(),o("span",jt,[t("a",{href:r.route("proof.download",s.purchase.payment.id)},[t("span",Bt,a(s.purchase.payment.original_file_name),1)],8,qt)])):(e(),o("span",Ft,"-"))])])])]),_:1})]),_:1},8,["title"])}const It=f(D,[["render",Ct]]);export{It as default};
